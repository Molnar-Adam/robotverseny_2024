<?xml version="1.0"?>
<!--
ROS Integration Test: Full Control Pipeline
============================================

Ez a teszt a TELJES vezérlési láncot ellenőrzi:
    /scan → pid_error.py → /error → control.py → /cmd_vel

Két node fut egyidejűleg:
    1. pid_error.py - LIDAR → error
    2. control.py - error → motor parancs

A teszt szimulált LIDAR adatot küld és ellenőrzi a végső kimenetet.

Használat:
    rostest robotverseny_2024 test_control_pipeline.test
-->
<launch>

    <node 
        pkg="megoldas_gyor24" 
        type="pid_error.py" 
        name="pid_error" 
        output="screen">
    </node>
    <node 
        pkg="megoldas_gyor24" 
        type="control.py" 
        name="control" 
        output="screen">
        <param name="kp" value="10.0"/>
        <param name="kd" value="0.01"/>
        <param name="ki" value="0.0"/>
        <param name="kp_vel" value="42.0"/>
        <param name="servo_offset" value="0.314159"/>  
    </node>
    <test 
        test-name="control_pipeline_integration_test" 
        pkg="megoldas_gyor24" 
        type="test_control_pipeline.py"
        time-limit="90.0">
    </test>
    
</launch>
